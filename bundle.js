(()=>{"use strict";var n={249:(n,t,e)=>{e.d(t,{A:()=>d});var r=e(601),o=e.n(r),a=e(314),i=e.n(a)()(o());i.push([n.id,'/* body {\n    font-family: Arial, sans-serif;\n    margin: 0;\n    padding: 0;\n    background-color: #f4f4f4;\n}\n\n#app {\n    display: flex;\n    justify-content: space-around;\n    padding: 20px;\n}\n\n.column {\n    background-color: #fff;\n    border-radius: 5px;\n    padding: 10px;\n    width: 30%;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.card {\n    background-color: #f9f9f9;\n    border: 1px solid #ddd;\n    padding: 10px;\n    margin-bottom: 10px;\n    border-radius: 3px;\n    cursor: grab;\n}\n\n\n.card.dragging {\n    opacity: 0.4;\n}\n\n\n.add-card {\n    background-color: grey;\n    color: white;\n    border: none;\n    padding: 8px 12px;\n    border-radius: 3px;\n    cursor: pointer;\n} */\n\n/* При наведении на кнопку */\n/* .add-card:hover {\n    background-color: #005f8c;\n}\n\n\n.delete-card {\n    display: none;\n    float: right;\n    cursor: pointer;\n    color: red;\n    font-weight: bold;\n}\n\n.card:hover .delete-card {\n    display: inline;\n} */\n\n/* .cards {\n    min-height: 50px;\n    padding: 10px;\n    border: 2px dashed transparent;\n    transition: border 0.2s ease-in-out;\n}\n\n.cards.dragover {\n    border: 2px dashed grey;\n} */\n\n\n/* Основные стили */\nbody {\n    font-family: Arial, sans-serif;\n    background-color: #f4f5f7;\n    margin: 0;\n    padding: 0;\n}\n\n#app {\n    display: flex;\n    padding: 20px;\n    gap: 20px;\n    width: 100%;\n    box-sizing: border-box;\n}\n\n.column {\n    background-color: #ebecf0;\n    border-radius: 3px;\n    padding: 10px;\n    flex: 1; /* Колонки растягиваются по ширине */\n    min-width: 250px; /* Минимальная ширина колонки */\n    max-width: 100%; /* Максимальная ширина колонки */\n    box-shadow: 0 1px 0 rgba(9, 30, 66, 0.25);\n}\n\n.column h2 {\n    font-size: 16px;\n    margin: 0 0 10px 0;\n}\n\n.cards {\n    min-height: 100px;\n}\n\n.card {\n    background-color: #fff;\n    border-radius: 3px;\n    padding: 10px;\n    margin-bottom: 10px;\n    box-shadow: 0 1px 0 rgba(9, 30, 66, 0.25);\n    cursor: grab;\n}\n\n.card.dragging {\n    opacity: 0.5;\n}\n\n.card .delete-card {\n    float: right;\n    cursor: pointer;\n    color: #6b778c;\n}\n\n.card .delete-card:hover {\n    color: #172b4d;\n}\n\n.add-card {\n    background-color: transparent;\n    border: none;\n    color: #6b778c;\n    cursor: pointer;\n    padding: 8px;\n    width: 100%;\n    text-align: left;\n}\n\n.add-card:hover {\n    background-color: rgba(9, 30, 66, 0.08);\n    color: #172b4d;\n}\n\n.form-field {\n    margin-top: 10px;\n    width: 100%; /* Форма занимает всю ширину колонки */\n    box-sizing: border-box; /* Учитываем padding и border в ширине */\n}\n\n.form-field textarea {\n    width: calc(100% - 16px); /* Учитываем padding */\n    padding: 8px;\n    border: 1px solid #dfe1e6;\n    border-radius: 3px;\n    resize: vertical;\n    box-sizing: border-box; /* Учитываем padding и border в ширине */\n}\n\n.form-btn-box {\n    margin-top: 8px;\n}\n\n.form-btn-box button {\n    background-color: #4457ac;\n    border: none;\n    border-radius: 3px;\n    color: #fff;\n    padding: 6px 12px;\n    cursor: pointer;\n}\n\n.form-btn-box button[type="button"] {\n    background-color: #97989a;\n    margin-left: 8px;\n}\n\n.form-btn-box button:hover {\n    opacity: 0.9;\n}',""]);const d=i},314:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",r=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),r&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),r&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var d=0;d<this.length;d++){var c=this[d][0];null!=c&&(i[c]=!0)}for(var s=0;s<n.length;s++){var l=[].concat(n[s]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),e&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=e):l[2]=e),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},601:n=>{n.exports=function(n){return n[1]}},72:n=>{var t=[];function e(n){for(var e=-1,r=0;r<t.length;r++)if(t[r].identifier===n){e=r;break}return e}function r(n,r){for(var a={},i=[],d=0;d<n.length;d++){var c=n[d],s=r.base?c[0]+r.base:c[0],l=a[s]||0,u="".concat(s," ").concat(l);a[s]=l+1;var f=e(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var m=o(p,r);r.byIndex=d,t.splice(d,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function o(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var d=e(a[i]);t[d].references--}for(var c=r(n,o),s=0;s<a.length;s++){var l=e(a[s]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=c}}},659:n=>{var t={};n.exports=function(n,e){var r=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},540:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},56:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,o&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var a=e.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}},113:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}}},t={};function e(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return n[r](a,a.exports,e),a.exports}e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.nc=void 0;var r=e(72),o=e.n(r),a=e(825),i=e.n(a),d=e(659),c=e.n(d),s=e(56),l=e.n(s),u=e(540),f=e.n(u),p=e(113),m=e.n(p),h=e(249),y={};function b(n){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},b(n)}function v(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,g(r.key),r)}}function g(n){var t=function(n){if("object"!=b(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=b(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==b(t)?t:t+""}y.styleTagTransform=m(),y.setAttributes=l(),y.insert=c().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=f(),o()(h.A,y),h.A&&h.A.locals&&h.A.locals;const x=function(){return n=function n(t,e,r){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.text=t,this.columnId=e,this.cardIndex=r,this.element=this.render()},(t=[{key:"render",value:function(){var n=document.createElement("div");return n.classList.add("card"),n.draggable=!0,n.dataset.columnId=this.columnId,n.dataset.cardIndex=this.cardIndex,n.innerHTML="".concat(this.text,' <span class="delete-card" data-column-id="').concat(this.columnId,'" data-card-index="').concat(this.cardIndex,'">&times;</span>'),n}},{key:"updateIndex",value:function(n){this.cardIndex=n,this.element.dataset.cardIndex=n,this.element.querySelector(".delete-card").dataset.cardIndex=n}}])&&v(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t}();function C(n){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},C(n)}function S(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,w(r.key),r)}}function w(n){var t=function(n){if("object"!=C(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=C(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==C(t)?t:t+""}const E=function(){return n=function n(t,e){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.id=t,this.title=e,this.cards=o.map((function(n,t){return new x(n,r.id,t)})),this.element=this.render(),this.cardsContainer=this.element.querySelector(".cards"),this.addCardButton=this.element.querySelector(".add-card"),this.form=this.createForm(),this.element.appendChild(this.form),this.addFormListeners()},(t=[{key:"render",value:function(){var n=document.createElement("div");return n.classList.add("column"),n.innerHTML="\n            <h2>".concat(this.title,'</h2>\n            <div class="cards" data-column-id="').concat(this.id,'"></div>\n            <button class="add-card" data-column-id="').concat(this.id,'">+ Add another card</button>\n        '),this.cards.forEach((function(t){n.querySelector(".cards").appendChild(t.element)})),n}},{key:"createForm",value:function(){var n=document.createElement("form");return n.className="form-field",n.innerHTML='\n            <textarea placeholder="Enter card text..." rows="3"></textarea>\n            <div class="form-btn-box">\n                <button type="submit">Add</button>\n                <button type="button" class="cancel-btn">×</button>\n            </div>\n        ',n.style.display="none",n}},{key:"addFormListeners",value:function(){var n=this,t=this.form.querySelector("textarea"),e=this.form.querySelector(".cancel-btn");this.form.addEventListener("submit",(function(e){e.preventDefault();var r=t.value.trim();r&&(n.addCard(r),n.hideForm(),t.value="")})),e.addEventListener("click",(function(){n.hideForm(),t.value=""}))}},{key:"showForm",value:function(){this.addCardButton.style.display="none",this.form.style.display="block"}},{key:"hideForm",value:function(){this.addCardButton.style.display="block",this.form.style.display="none"}},{key:"addCard",value:function(n){var t=new x(n,this.id,this.cards.length);this.cards.push(t),this.cardsContainer.appendChild(t.element),this.updateCardIndexes()}},{key:"removeCard",value:function(n){this.cards=this.cards.filter((function(t){return t.element!==n})),n.remove()}},{key:"renderCards",value:function(){var n=this;this.cardsContainer.innerHTML="",this.cards.forEach((function(t){n.cardsContainer.appendChild(t.element)}))}},{key:"updateCardIndexes",value:function(){this.cards.forEach((function(n,t){n.updateIndex(t)}))}}])&&S(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t}();function k(n){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},k(n)}function I(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function L(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,A(r.key),r)}}function A(n){var t=function(n){if("object"!=k(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=k(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==k(t)?t:t+""}new(function(){return n=function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.loadState(),this.draggedCard=null,this.appElement=document.getElementById("app"),this.renderColumns(),this.addEventListeners()},(t=[{key:"renderColumns",value:function(){var n=this;this.appElement.innerHTML="",this.columns.forEach((function(t){return n.appElement.appendChild(t.element)}))}},{key:"addEventListeners",value:function(){var n=this;this.appElement.addEventListener("click",(function(t){if(t.target.classList.contains("add-card")){var e=n.findColumnById(t.target.dataset.columnId);e&&e.showForm()}})),this.appElement.addEventListener("click",(function(t){if(t.target.classList.contains("delete-card")){t.stopPropagation();var e=n.findColumnById(t.target.dataset.columnId);if(!e)return;var r=t.target.closest(".card");e.removeCard(r),n.saveState()}})),this.appElement.addEventListener("dragstart",(function(t){t.target.classList.contains("card")&&(n.draggedCard=t.target,t.target.classList.add("dragging"))})),this.appElement.addEventListener("dragend",(function(){n.draggedCard&&(n.draggedCard.classList.remove("dragging"),n.draggedCard=null)})),this.appElement.addEventListener("dragover",(function(t){t.preventDefault();var e=t.target.closest(".column");if(e){var r=e.querySelector(".cards"),o=n.getDragAfterElement(r,t.clientY);n.draggedCard&&(o?r.insertBefore(n.draggedCard,o):r.appendChild(n.draggedCard))}})),this.appElement.addEventListener("drop",(function(t){var e=t.target.closest(".column");if(e&&n.draggedCard){var r=n.findColumnById(n.draggedCard.dataset.columnId),o=n.findColumnById(e.dataset.columnId);r&&o&&(r.removeCard(n.draggedCard),o.addCard(n.draggedCard.textContent.trim()),n.saveState())}}))}},{key:"getDragAfterElement",value:function(n,t){return function(n){return function(n){if(Array.isArray(n))return I(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(n){if("string"==typeof n)return I(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?I(n,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.querySelectorAll(".card:not(.dragging)")).find((function(n){return t<=n.getBoundingClientRect().top+n.offsetHeight/2}))}},{key:"findColumnById",value:function(n){return this.columns.find((function(t){return t.id==n}))}},{key:"saveState",value:function(){localStorage.setItem("trelloState",JSON.stringify(this.columns.map((function(n){return{id:n.id,title:n.title,cards:n.cards.map((function(n){return n.text}))}}))))}},{key:"loadState",value:function(){var n=JSON.parse(localStorage.getItem("trelloState"))||[{id:1,title:"TODO",cards:[]},{id:2,title:"IN PROGRESS",cards:[]},{id:3,title:"DONE",cards:[]}];this.columns=n.map((function(n){return new E(n.id,n.title,n.cards)}))}}])&&L(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,t}())})();